<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>è¡Œææ¸…å–® Packing List</title>

  <style>
    body { margin: 0; font-family: sans-serif; background: #f5f5f5; }
    header { background: #2196f3; color: white; padding: 16px; text-align: center; font-size: 20px; }
    nav {
      position: sticky; top: 0; z-index: 1000;
      display: flex; justify-content: space-around;
      background: #1976d2; padding: 12px;
    }
    nav a { color: white; text-decoration: none; }

    .container { padding: 16px; }
    .card {
      background: #fff; padding: 16px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      margin-bottom: 16px;
    }

    .category {
      border: 1px solid #ddd;
      margin-bottom: 12px;
      border-radius: 10px;
      overflow: hidden;
    }

    .category-header {
      background: #e3f2fd;
      padding: 12px;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .category-items {
      padding: 10px;
      display: block; /* é è¨­å±•é–‹ */
    }

    .item {
      display: flex;
      align-items: center;
      padding: 10px;
      background: #fafafa;
      border-radius: 8px;
      margin-bottom: 8px;
      cursor: grab;
    }

    .item:active { cursor: grabbing; }
    .drag-handle { margin-right: 10px; font-size: 18px; }
  </style>
</head>

<body>

<header>è¡Œææ¸…å–® Packing List</header>

<nav>
  <a href="index.html">é¦–é </a>
  <a href="itineraries.html">è¡Œç¨‹</a>
  <a href="destinations.html">ç›®çš„åœ°</a>
  <a href="packing.html" style="font-weight:bold;">è¡Œææ¸…å–®</a>
</nav>

<div class="card">
  <h2>è¡Œç¨‹é¡å‹</h2>
  <select id="tripMode" onchange="switchMode()" style="
    width:100%; padding:10px; font-size:16px;
    border-radius:8px; border:1px solid #ddd;">
    <option value="japan">ğŸ‡¯ğŸ‡µ æ—¥æœ¬ä¸€èˆ¬æ—…è¡Œ</option>
    <option value="ski">â›·ï¸ æ»‘é›ªæ—…è¡Œ</option>
    <option value="summer">â˜€ï¸ å¤å­£æ—…è¡Œ</option>
  </select>
</div>

<div class="container">
  <div class="card">
    <h2>è¡Œæåˆ†é¡</h2>
    
    <div class="category">
      <div class="category-header" onclick="toggleCategory('document')">æ–‡ä»¶ â–¼</div>
      <div class="category-items" id="cat-document"></div>
    </div>
    
    <div class="category">
      <div class="category-header" onclick="toggleCategory('itinerary')">è¡Œç¨‹è³‡æ–™ â–¼</div>
      <div class="category-items" id="cat-itinerary"></div>
    </div>

    <div class="category">
      <div class="category-header" onclick="toggleCategory('ski')">æ»‘é›ªè£å‚™ â–¼</div>
      <div class="category-items" id="cat-ski"></div>
    </div>

    <div class="category">
      <div class="category-header" onclick="toggleCategory('money')">éŒ¢ â–¼</div>
      <div class="category-items" id="cat-money"></div>
    </div>

    <div class="category">
      <div class="category-header" onclick="toggleCategory('clothes')">è¡£ç‰© â–¼</div>
      <div class="category-items" id="cat-clothes"></div>
    </div>

    <div class="category">
      <div class="category-header" onclick="toggleCategory('toiletries')">ç›¥æ´—ç”¨å“ â–¼</div>
      <div class="category-items" id="cat-toiletries"></div>
    </div>

    <div class="category">
      <div class="category-header" onclick="toggleCategory('electronics')">é›»å­ç”¢å“ â–¼</div>
      <div class="category-items" id="cat-electronics"></div>
    </div>

  </div>
</div>

<script>
/* å¤šè¡Œç¨‹å›ºå®šæ¸…å–® */
const packingData = {
  japan: {
    document: ["è­·ç…§", "èº«åˆ†è­‰", "å¥ä¿å¡"],
    itinerary: ["æ©Ÿç¥¨", "é£¯åº—è¨‚å–®", "è¡Œç¨‹è¡¨"],
    clothes: ["ä¸Šè¡£ x3", "è¤²å­ x2", "å¤–å¥—"],
    toiletries: ["ç‰™åˆ·", "ç‰™è†", "æ´—é¢ä¹³"],
    electronics: ["æ‰‹æ©Ÿ", "SIMå¡", "å……é›»å™¨"]
  },

  ski: {
    document: ["è­·ç…§", "åœ‹éš›é§•ç…§", "èº«åˆ†è­‰", "å¥ä¿å¡", "é§•ç…§", "é§•ç…§æ—¥æ–‡è­¯æœ¬"],
    itinerary: ["æ©Ÿç¥¨", "é›ªå ´ç¥¨åˆ¸", "ä¿éšªè³‡æ–™", "ç¥¨åˆ¸", "åŸå­ç­†", "é£¯åº—é ç´„è³‡æ–™", "é¤å»³é ç´„è³‡æ–™", "è¡Œç¨‹è¡¨", "ç·Šæ€¥é€£çµ¡é›»è©±"],
    ski: ["é›ªè¡£", "é›ªè¤²", "æ’æ±—è¡£*2ä»¶", "æ’æ±—è¤²*2ä»¶", "æ‰‹å¥—", "å…§å±¤æ‰‹å¥—", "é›ªé¡", "å®‰å…¨å¸½", "é¢ç½©", "è„–åœ", "é›ªè¥ª", "è­·è†", "é˜²æ‘”è¤²", "è­·è‚˜", "è­·è…•", "è€³æ©Ÿ", "æ¯›å¸½"],
    money: ["éŒ¢åŒ…", "æ—¥å¹£ç¾é‡‘", "ä¿¡ç”¨å¡",],
    clothes: ["ç™¼ç†±è¡£*3", "åˆ·æ¯›è¤²*3", "åšå¤–å¥—*3", "åšè¥ª*3", "å…§è¡£", "å…§è¤²", "é˜²æ°´é›ªé´(åŠ é˜²æ»‘é‹å¥—/å†°çˆª)", "åœå·¾", "æ¯›å¸½", "å®¤å…§é‹", "è€³ç½©"],
    toiletries: ["æš–æš–åŒ…", "è­·å”‡è†", "ä¹³æ¶²", "é˜²èšŠæ¶²", "é˜²èšŠå™´éœ§", "é˜²æ›¬", "å‡¡å£«æ—", "æ¿•ç´™å·¾", "è¡›ç”Ÿç´™", "ä¹¾æ´—æ‰‹", "é…’ç²¾", "å¡‘è† è¢‹", "å¤¾éˆè¢‹", "å‚˜/é›¨è¡£", "å¤ªé™½çœ¼é¡", "OKè¹¦", "æšˆè»Šè—¥/èƒƒè–¬/æ„Ÿå†’è–¬/é ­ç—›è–¬ç­‰ç­‰å¸¸å‚™è–¬", "è¡£æ¶", "æ›¬é‹æ¶", "åŒ–å¦å“", "ç‰™ç·šæ£’", "æ£‰èŠ±æ£’", "å¸å¦æ°´/å¸å¦ä¹³", "ä¿æº«æ¯"],
    electronics: ["æ‰‹æ©Ÿ", "SIMå¡", "è¡Œå‹•é›»æº", "å……é›»é ­", "å……é›»ç·š", "ç›¸æ©Ÿ", "è¨˜æ†¶å¡", "é›»æ± ", "è…³æ¶", "é‹å‹•ç›¸æ©Ÿ",]
  },

  summer: {
    document: ["è­·ç…§"],
    itinerary: ["æ©Ÿç¥¨", "ä½å®¿è³‡æ–™"],
    clothes: ["çŸ­è¢–", "çŸ­è¤²", "æ³³è¡£"],
    toiletries: ["é˜²æ›¬ä¹³", "æ´—é¢ä¹³"],
    electronics: ["æ‰‹æ©Ÿ", "å……é›»å™¨"]
  }
};

let currentMode = localStorage.getItem("tripMode") || "japan";

/* å±•é–‹ / æ”¶åˆ */
function toggleCategory(cat) {
  const box = document.getElementById(`cat-${cat}`);
  if (box) box.style.display = box.style.display === "none" ? "block" : "none";
}

/* å»ºç«‹é …ç›® */
function createItem(text, checked = false) {
  const div = document.createElement("div");
  div.className = "item";
  div.draggable = true;

  div.innerHTML = `
    <span class="drag-handle">â˜°</span>
    <input type="checkbox" ${checked ? "checked" : ""} onchange="saveAll()">
    <span>${text}</span>
  `;

  div.ondragstart = () => dragSrc = div;
  div.ondragover = e => e.preventDefault();
  div.ondrop = () => {
    if (dragSrc !== div) {
      div.parentNode.insertBefore(dragSrc, div);
      saveAll();
    }
  };

  return div;
}

let dragSrc = null;

/* å„²å­˜ */
function saveAll() {
  const data = {};
  document.querySelectorAll(".category-items").forEach(box => {
    const cat = box.id.replace("cat-", "");
    data[cat] = [];
    box.querySelectorAll(".item").forEach(item => {
      data[cat].push({
        text: item.querySelector("span:last-child").textContent,
        checked: item.querySelector("input").checked
      });
    });
  });

  localStorage.setItem(`packing_${currentMode}`, JSON.stringify(data));
}

/* è¼‰å…¥æŒ‡å®šæ¨¡å¼ */
function loadMode(mode) {
  currentMode = mode;
  localStorage.setItem("tripMode", mode);

  const saved = JSON.parse(localStorage.getItem(`packing_${mode}`)) || {};
  const source = packingData[mode];

  Object.keys(source).forEach(cat => {
    const box = document.getElementById(`cat-${cat}`);
    if (!box) return;

    box.innerHTML = "";
    const items = saved[cat] || source[cat];
    items.forEach(i =>
      box.appendChild(createItem(i.text ?? i, i.checked ?? false))
    );
  });
}

/* åˆ‡æ›äº‹ä»¶ */
function switchMode() {
  const mode = document.getElementById("tripMode").value;
  loadMode(mode);
}

/* åˆå§‹åŒ– */
document.getElementById("tripMode").value = currentMode;
loadMode(currentMode);
</script>



</script>

</body>
</html>





